var rss="http://www.drudgereportfeed.com/rss.xml",contentSource="http://localhost:3000/",app=angular.module("druge",["ngOnboarding"]);app.controller("main",["$scope","$http","$sce",function(t,e,o){t.onboarding=!1,t.onboardingSteps=[{title:"News Story Feed",position:"right",description:"Here you will find a list of all of the news stories that Druge Report has linked to.",attachTo:"#sidebar",width:300},{title:"Article",position:"left",description:"Over here you will see the news article. Notice it is just the article itself, not any of the other content that gets in the way!",attachTo:"#article",width:300},{title:"Article Link",position:"bottom",description:"If the article doesn't load correctly, you can always click the source link located here",attachTo:"#sourceLink",width:300}],t.startOnboarding=function(){t.onboarding=!0,console.log("started")},t.loadStories=function(){e.jsonp("http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=50&callback=JSON_CALLBACK&q="+encodeURIComponent(rss)).success(function(e){t.stories=e.responseData.feed.entries,!t.active&&t.stories.length>0&&t.loadStory(e.responseData.feed.entries[0])}).error(function(){alert("was not able to get a list of stories :(")})},t.loadStory=function(i){t.active!==i&&(t.storyText="",t.articleDetectionFailed=!1,t.storyLoading=!0,t.active=i,e.jsonp(contentSource+"?callback=JSON_CALLBACK&url="+encodeURIComponent(t.active.link)).success(function(e){t.storyLoading=!1,t.storyText=o.trustAsHtml(e.html)}).error(function(){t.storyLoading=!1,t.articleDetectionFailed=!0}))},t.loadStories()}]);